#:import Window kivy.core.window.Window

<TransparentButton>
    size_hint: None, None
    size: "48dp", "48dp"
    # opacity: 0

<PlayerScreen>:
    name: "player"

    ReaderWindow:
        id: reader_window
        markup: True
        text: 'test tes tes tes ets estevste ste tasf asfsdfhajsdflsadkflnasdjkflasdjf'
        halign: 'left'
        valign: 'top'
        size_hint: None, None
        pos_hint: {'left': 1, 'top': 1}
        size: Window.width, Window.height
        text_size: self.size
        padding: 40, 40 # make this into a setting
        canvas.before:
            Color:
                rgba:1,0,0,0.2
            Rectangle:
                pos:self.pos
                size:self.size

    FloatLayout:
        orientation: "vertical"

        BoxLayout:
            id: top_toolbar
            size_hint_y: None
            y: Window.height
            height: "48dp"
            padding: "4dp"
            spacing: "4dp"

            Button:
                text: "Go Back"
                on_release:
                    app.root.transition.direction = "right"
                    app.root.current = "library"

            Button:
                text: "Settings"
                on_release:
                    app.open_settings()

        BoxLayout:
            id: audio_toolbar
            orientation: "horizontal"
            size_hint_y: None
            height: "48dp"
            padding: "4dp"
            spacing: "4dp"
            y: -self.height

            Button:
                text: "Slider"
                on_release:
                    # Add your code here

            Button:
                text: "Back"
                on_release:
                    # Add your code here

            MDIconButton:
                icon: 'play'

            Button:
                text: "Forward"
                on_release:
                    # Add your code here

            Button:
                text: "Close"
                on_release:
                    # Add your code here

        TransparentButton:
            pos_hint: {"left": 1, "bottom": 1}
            text: "+"
            on_release:
                root.toggle_audio_toolbar()


        TransparentButton:
            pos_hint: {"right": 1, "top": 1}
            text: "+"
            on_release:
                root.toggle_top_toolbar()

        TransparentButton:
            pos_hint: {"right": 1, "bottom": 1}
            text: "next"
            on_release:
                # next page

        TransparentButton:
            pos_hint: {"left": 1, "top": 1}
            text: "prev"
            on_release:
                # previous page
